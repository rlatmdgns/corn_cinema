<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace ="com.acorn.mapper.MemberMapper">
  
  	   
  <!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  CRUD  ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
 	
  
	   
	 <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡinsert Memberㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->
	  <insert id="insertMember"  parameterType="com.acorn.domain.MemberVo">
	     insert into corn_movie.tbl_member (
	       id, password, name, email
	     ) values(
	      #{id}, #{password}, #{name},#{email}
	      )
	  </insert>
	     
    <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡudate Memberㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->    
	 <update id="updateProfile">
	    update tbl_member set
        password = #{password}, 
        updatedate = now()
        WHERE id =#{id}          
    </update>

    <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡdelete Memberㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->   

   <delete id="deleteProfile">
	   DELETE FROM tbl_member WHERE id = #{id} and password = #{password}
   </delete>
    
	<!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡlogin Checkㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->
		   
	 <select id="login" resultType="com.acorn.domain.MemberVo">    <!-- resultType -> UserVO 풀패키지명 -->
  
      SELECT * FROM tbl_member WHERE id= #{id} and password = #{password}
          
     </select>	   

	 <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ id Ckeck(id 중복검사)ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->
    
     <select id= "idCheck" parameterType="string" resultType="int">
         SELECT count(*) from tbl_member where id=#{user_id}
     </select>
        
     <!-- ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ email Ckeck(email 중복검사)ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ  -->
     
     <select id= "emailCheck" parameterType="string" resultType="int">
          SELECT count(*) from tbl_member where email=#{user_email}
     </select>
     
  </mapper>